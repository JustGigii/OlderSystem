<div class="catalog-page">
  <h2 class="catalog-title">מוצרים</h2>
  <div class="search-bar-container">
    <input class="catalog-search-bar" type="text" [(ngModel)]="search">
    <img class="search-bar-img" src="../../../assets/img/searchBtn.png" alt="search">
  </div>
  <div class="category-container">
    <div (click)="changeCategory(category.categoryId)" *ngFor="let category of categories" class="category" [class]="category.categoryId == chosenCategory ? 'chosen-category' : ''">
      <h4 class="category-title">{{category.categoryName}}</h4>
      <img class="category-img" [src]="category.categoryImage" alt="category img" >
    </div>
  </div>
  <div class="products-container">
    <ng-container *ngFor="let product of products">
      <div *ngIf="chosenCategory == deafultCategory;else categoryProducts">
        <div class="product" *ngIf="product.pordactName.includes(search)" (click)="onClick(product)">
          <img class="product-image" src={{product.prodactImage}} alt="product image">
          <h3 class="product-title">{{product.pordactName}}</h3>
        </div>
      </div>
      <ng-template #categoryProducts>
        <div class="product" *ngIf="product.pordactName.includes(search) && product.categoryId == chosenCategory" (click)="onClick(product)">
          <img class="product-image" src={{product.prodactImage}} alt="product image">
          <h3 class="product-title">{{product.pordactName}}</h3>
        </div>
      </ng-template>
    </ng-container>
  </div>
</div>
<popup-product *ngIf="currProduct != undefined" [product]="currProduct"
(onClose)="closeDialog()" (onAddToCart)="addToCart($event)"></popup-product>
